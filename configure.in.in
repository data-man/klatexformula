#MIN_CONFIG(3.2.0)

# to change version, modify following files: (!! No hyphen in 2.0.0-alpha4 !! Use 2.0.0alpha4 instead (RPM issues))
# ./VERSION
# ./src/main.cpp   [ 2 occurrences ]
# ./src/klfcmdl_main.cpp
# ./configure.in.in (this file)
# ./doc/*/index.docbook
# ./klatexformula.kdevelop   [ 2 occurrences ]
# ./src/klatexformula.lsm
# ./src/klfbackend/klfbackend.pro
# ./Doxyfile

AM_INIT_AUTOMAKE(klatexformula, 2.1.0alpha4)
AC_C_BIGENDIAN
AC_CHECK_KDEMAXPATHLEN

AC_ARG_VAR(LATEX_EXEC, [The latex executable, with absolute path if latex is not in PATH])
AC_ARG_VAR(DVIPS_EXEC, [The dvips executable, with absolute path if dvips is not in PATH])
AC_ARG_VAR(GS_EXEC, [The gs executable, with absolute path if gs is not in PATH])
AC_ARG_VAR(EPSTOPDF_EXEC, [The epstopdf executable, with absolute path if epstopdf is not in PATH])

AC_PATH_PROG(LATEX_EXEC, latex, false)
if test "$LATEX_EXEC" = "false"; then
   AC_MSG_ERROR([*** latex not found ! You need this ! If latex is not in PATH, specify whole
                 path to latex in shell variable LATEX_EXEC ***])
fi

AC_PATH_PROG(DVIPS_EXEC, dvips, false)
if test "$DVIPS_EXEC" = "false"; then
   AC_MSG_ERROR([*** program dvips not found ! You need this ! If dvips is not in PATH, specify whole
                 path to dvips in shell variable DVIPS_EXEC ***])
fi

AC_PATH_PROG(GS_EXEC, gs, false)
if test "$GS_EXEC" = "false"; then
   AC_MSG_ERROR([*** program gs not found ! You need this ! If gs is not in PATH, specify whole
                 path to gs in shell variable GS_EXEC ***])
fi

AC_PATH_PROG(EPSTOPDF_EXEC, epstopdf, false)
if test "$EPSTOPDF_EXEC" = "false"; then
  AC_MSG_WARN([*** program epstopdf not found ! *** ])

  KLF_CONFIGURE_WARNINGS="$KLF_CONFIGURE_WARNINGS

*** Warning: epstopdf was not found on your system. This will disable PDF support.
 To specify the path to epstopdf, re-run configure with the shell variable EPSTOPDF_EXEC set.

"

fi


AC_ARG_ENABLE(klatexformula, AC_HELP_STRING([--disable-klatexformula], [disable graphical user interface.
	With this option, you will only	build the base library.]), [klfgui=${enableval}], [klfgui=yes])
AM_CONDITIONAL(KLF_ENABLE_GUI, test "x$klfgui" = "xyes")
